### 前端微服务
微服务是一种架构模式，是面向服务的体系结构（SOA）软件架构模式的一种演变，
它提倡将单一应用程序划分成一组松散耦合的细粒度小型服务，辅助轻量级的协议，互相协调、互相配合，为用户提供最终价值。  
所以，微服务（或微服务架构）是一种云原生架构方法，其中单个应用程序由许多松散耦合且可独立部署的较小组件或服务组成。这些服务通常包含如下特点： 
1. **单一职责**: 微服务架构中的每个节点高度服务化，都是具有业务逻辑的，符合高内聚、低耦合原则以及单一职责原则的单元，包括数据库和数据模型；不同的服务通过“管道”的方式灵活组合，从而构建出庞大的系统。
2. **轻量级通信**: 通过REST API模式或者RPC框架，实现服务间互相协作的轻量级通信机制。
3. **独立性**: 在微服务架构中，每个服务都是独立的业务单元，与其他服务高度解耦，只需要改变当前服务本身，就可以完成独立的开发、测试、部署、运维。
4. **进程隔离**: 在微服务架构中，应用程序由多个服务组成，每个服务都是高度自治的独立业务实体，可以运行在独立的进程中，不同的服务能非常容易地部署到不同的主机上，实现高度自治和高度隔离。进程的隔离，还能保证服务达到动态扩缩容的能力，业务高峰期自动增加服务资源以提升并发能力，业务低谷期则可自动释放服务资源以节省开销。 
5. **混合技术栈和混合部署方式**: 团队可以为不同的服务组件使用不同的技术栈和不同的部署方式（公有云、私有云、混合云）。
6. **简化治理**: 组件可以彼此独立地进行扩缩容和治理，从而减少了因必须缩放整个应用程序而产生的浪费和成本，因为单个功能可能面临过多的负载。 
7. **安全可靠，可维护**。: 从架构上对运维提供友好的支撑，在安全、可维护的基础上规范化发布流程，支持数据存储容灾、业务模块隔离、访问权限控制、编码安全检测等

理想的前端微服务化，应该是符合如下几个特点：
* 独立部署
* 独立开发
* 无所谓技术栈
* 不影响用户的整体体验

前端的技术拆分方式

1. 路由分发式  
  直接通过不同的url来访问不同的应用，这种拆分方式下，同一个链接只对应一个微应用。不同的应用之间可以通过localstorage、cookie、indexedDB等方式共享数据，因为他们是处于同一个域名的。
2. 前端微服务化  
  前端微服务化，就是每个应用都是完全独立的，拥有独立的技术栈、独立的开发、独立的部署、独立的构建，并且自主运行。最后通过模块化的方式组合出完整的前端应用。同一个页面上可以存在多个微应用。但是在路由分发的情况下，同一个时间只有一个微应用在运行。
3. 组合式集成：微应用化。  
  指的是开发时应用都是以单一、微小应用的形式存在的，运行时，则通过构建系统合并这些应用，并组合成一个新的应用。
4. 微件化  
  微件，是一段可以直接嵌入应用上运行的代码，由开发人员预先编译好，在加载时不需要再做任何修改和编译。  
  而微前端下的微件化，指的是给业务团队编写好自己的业务代码，并将编译好的业务代码部署到制定服务器。在运行时，我们只需要加载相应的业务模块即可。在更新代码的时候，我们只需要更新相应的模块即可。
5. 前端容器：iframe  
  iframe作为一个很古老的人人都觉得普通的技术，却一直很管用，可以有效的将一个页面嵌入到另一个页面，出去iframe父子组件通信的代码，其他部分代码完全隔离。
6. 结合Web Components构建  
  web components 是一套不同的技术，允许开发者创建可重用的定制元素，并且在web应用中使用它们。

![这是图片](.\image\service.jpg)

----
**参考链接**
* <https://blog.csdn.net/alnorthword/article/details/100569485>
* <https://zhuanlan.zhihu.com/p/39102712>
* <https://www.jianshu.com/p/a187dfbe8f0c>
* <https://juejin.cn/post/7005559860733411359>